<!doctype html>
    <html lang="tr">
      <head>
        <title>Basit Bir AJAX Hesap Makinesi - UBenzer</title>
        <meta content="utf-8" name="charset"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="#2196F3" name="theme-color"/>
        <link href="/template/ui.css" media="screen" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700,700i&amp;amp;subset=latin-ext" media="screen" rel="stylesheet" type="text/css"/><link href="/img/favicon/apple-touch-icon-57x57.png" rel="apple-touch-icon-precomposed" sizes="57x57"/><link href="/img/favicon/apple-touch-icon-60x60.png" rel="apple-touch-icon-precomposed" sizes="60x60"/><link href="/img/favicon/apple-touch-icon-72x72.png" rel="apple-touch-icon-precomposed" sizes="72x72"/><link href="/img/favicon/apple-touch-icon-76x76.png" rel="apple-touch-icon-precomposed" sizes="76x76"/><link href="/img/favicon/apple-touch-icon-114x114.png" rel="apple-touch-icon-precomposed" sizes="114x114"/><link href="/img/favicon/apple-touch-icon-120x120.png" rel="apple-touch-icon-precomposed" sizes="120x120"/><link href="/img/favicon/apple-touch-icon-152x152.png" rel="apple-touch-icon-precomposed" sizes="152x152"/><link href="/img/favicon/favicon-196x196.png" rel="icon" sizes="196x196"/><link href="/img/favicon/favicon-128x128.png" rel="icon" sizes="128x128"/><link href="/img/favicon/favicon-96x96.png" rel="icon" sizes="96x96"/><link href="/img/favicon/favicon-32x32.png" rel="icon" sizes="32x32"/><link href="/img/favicon/favicon-16x16.png" rel="icon" sizes="16x16"/><link href="https://ubenzer.com/2010/01/basit-bir-ajax-hesap-makinesi/" rel="canonical"/>
      </head>
      <body>
        <div><header class="header"><div class="app-bar"><h1 class="app-bar__title"><a class="app-bar__title-link" href="/">UBenzer</a></h1></div></header><div class="main-container"><div class="main-content"><article class="card main-container__items"><div class="card__contents blog-post"><div class="blog-post__date">2 Ocak 2010</div><h1><a class="blog-post__title" href="/2010/01/basit-bir-ajax-hesap-makinesi/">Basit Bir AJAX Hesap Makinesi</a></h1><div class="markdown-content blog-post__body blog-post__content"><p><a href="/2010/01/basit-bir-ajax-hesap-makinesi/php-logo.jpg" target="_blank"><span class="img fade-box ">
    <img class="fade-box__lores" src="/2010/01/basit-bir-ajax-hesap-makinesi/php-logo.scaled-jpg-50.jpg" alt="php-logo" width="95" height="60">
    <img class="lazyload fade-box__hires" data-src="/2010/01/basit-bir-ajax-hesap-makinesi/php-logo.jpg" title="php-logo" alt="php-logo"width="95" height="60" data-srcset="/2010/01/basit-bir-ajax-hesap-makinesi/php-logo.scaled-jpg-50.jpg 50w, /2010/01/basit-bir-ajax-hesap-makinesi/php-logo.jpg 95w">
    <span style="padding-top: 63.1578947368421%" class="fade-box__aspect_ratio_el">&nbsp;</span>
  </span>
</a>{right}Geçen hafta PHP kursunda amacımızı biraz aşıp, istemci taraflı kütüphanelere daldık. AJAX’ın ne olduğu, neden AJAX’a ihtiyaç duyduğu, kısa bir tarihçesi gibi konular üzerinde durduktan sonra, popüler kütüphanelerden jQuery yardımı ile, AJAX yöntemini kullanan bir hesap makinesi yazdık.</p>
<p>Amacı ne, PHP’ye ne gerek var, JavaScript zaten toplama çıkarma yapabiliyor diyecek olursanız, sonuna kadar haklısınız. Bu programcıkta amaç, AJAX’ı basit bir şekilde örneklemek, öğrenebilmek, anlayabilmek...</p>
<p>...diyor ve sizi kodlarla baş başa bırakıyorum.</p>
<ul>
<li><a href="/2010/01/basit-bir-ajax-hesap-makinesi/ajax.pdf" >AJAX Konusu ile İlgili Öğretici Bir Sunum</a> <em>(İngilizce)</em></li>
<li><a href="/2010/01/basit-bir-ajax-hesap-makinesi/ajax-hesap-makinesi.zip" >Kaynak Kodları</a> (zip, sıkıştırılmış)</li>
</ul>
<p>Eğer kodları indirmeden incelemek isterseniz, yazının devamına bakabilirsiniz.</p>
<h2>bizimkodlar.js</h2>
<p>[js] $(document).ready(function() { /* Buranın içindeki kodlar, sayfa yüklenmesi tamamlanınca çalışacak. Genel geçer olarak, jQuery kodları bu blok içine yazılır. <em>/ var sayac = 0; /</em> Değişken tanımlama. <em>/ /</em> Bir &quot;event&quot;. makine id'li form submit olunca aşağıdaki kod parçası çalışır. Daha ayrıntılı bilgi için jQuery dokümantasyonundan selector ve events konularına bakınız.<em>/ $(&quot;#makine&quot;).submit(function() { $.ajax({ /</em> jQuery kütüphanesinin sunduğu cross-browser ajax metodu <em>/ type: &quot;POST&quot;, /</em> http veri aktarım metodu <em>/ url: &quot;hesap.php&quot;, /</em> isteğin yapılacağı adres <em>/ cache: false, /</em> sorgu tarayıcı önbelleğine alınabilir mi? <em>/ data: $(this).serialize(), /</em> gönderilecek veri. this.serialize ile, submit edilen formun içindeki tüm bilgiler gönderilmektedir. <em>/ dataType: &quot;json&quot;, /</em> dönüş için beklenen veri tipi <em>/ error: function(request) { /</em> isteğin yapılamaması sonucu gerçekleşecek kod parçası <em>/ alert(&quot;Hata oluştu.&quot;); /</em> ekrana mesaj kutusu çıkartır. <em>/ }, success: function(request) { /</em> isteğin başarılı olması sonucu gerçekleşecek kod parçası <em>/ if(!request.hatali) { sayac++; $('#sonuc').append(sayac + &quot; numaralı islemin sonucu: &quot; + request.sonuc + &quot;&lt;br /&gt;&quot;); /</em> json ile gelen verilere dizi elemanıymış gibi erişilebilir. <em>/ } else { alert(&quot;Sonuc hatalı. Gelen mesaj: &quot; + request.hata); } } }); return false; /</em> varsayılan submit olayının olmasını (formun normal yöntemlerle gönderilmesini) engeller. <em>/ /</em> AJAX ASENKRONDUR. KOD PARÇASININ BU SATIRINA GELMESİ İÇİN AJAX SORGUSUNUN BİTMESİ GEREKMEMEKTEDİR. */ }); }); [/js]</p>
<h2>index.php</h2>
<pre><code class="language-php"> &lt;?php /* AJAX 101 - http://www.ubenzer.com/ */ header(&quot;Content-Type: text/html; charset=utf-8&quot;); ?&gt; &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt; &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; dir=&quot;ltr&quot; lang=&quot;tr-TR&quot;&gt; &lt;head profile=&quot;http://gmpg.org/xfn/1&quot;&gt; &lt;!-- EgeBK PHP Kursu Örnek Kaynak Kodları --&gt; &lt;title&gt;AJAX Hesap Makinesi&lt;/title&gt; &lt;!-- jQuery Kütüphanesini Ekleyelim. Dikkat edin bu bir JavaScript kütüphanesi ve istemci tarafında çalışmak üzere tarayıcıya gönderiliyor. Yani kodlar halka açık. --&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;jquery.js&quot;&gt;&lt;/script&gt; &lt;!-- jQuery kütüphanesini kullanarak işlem yapacağımız kod parçaları. JacaScript dosyalarının eklenme sırası önemlidir. --&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;bizimkodlar.js&quot;&gt;&lt;/script&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt; &lt;meta http-equiv=&quot;author&quot; content=&quot;Umut Benzer&quot; /&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=&quot;hesap.php&quot; id=&quot;makine&quot; method=&quot;post&quot;&gt;&lt;!-- FORM ID'SİNE DİKKAT EDİNİZ --&gt; 1\. Değer: &lt;input type=&quot;text&quot; name=&quot;deger1&quot; /&gt;&lt;br /&gt; 2\. Değer: &lt;input type=&quot;text&quot; name=&quot;deger2&quot; /&gt;&lt;br /&gt; &lt;select name=&quot;islem&quot;&gt; &lt;option&gt;Topla&lt;/option&gt; &lt;option&gt;Cikar&lt;/option&gt; &lt;option&gt;Carp&lt;/option&gt; &lt;option&gt;Bol&lt;/option&gt; &lt;/select&gt; &lt;input type=&quot;submit&quot; value=&quot;AJAX'la Hesapla&quot; /&gt; &lt;/form&gt; &lt;div id=&quot;sonuc&quot;&gt;Sonuç burada görünecek.&lt;br /&gt;&lt;/div&gt;&lt;!-- DİV İD'SİNE DİKKAT EDİNİZ. --&gt; &lt;/body&gt;
</code></pre>
<h2>hesap.php</h2>
<pre><code class="language-php"> &lt;?php // echo var_dump($_REQUEST); header(&quot;Content-Type: application/json; charset=utf-8&quot;);

if (!(isset($_REQUEST['islem']) &amp;&amp; ($_REQUEST['islem'] == &quot;Topla&quot; || $_REQUEST['islem'] == &quot;Cikar&quot; || $_REQUEST['islem'] == &quot;Carp&quot; || $_REQUEST['islem'] == &quot;Bol&quot;))) { hataVer(); /* Hata mesajı yaz ve çık */ } $islem = $_REQUEST['islem']; /* Bu noktadan sonra $islem'e güvenilir. */ /* Birinci sayı atanmış ve sayısal bir değer mi? */ if (!(isset($_REQUEST['deger1']) &amp;&amp; is_numeric($_REQUEST['deger1']))) { hataVer(); /* Hata mesajı yaz ve çık */ } $deger1 = $_REQUEST['deger1']; /* İkinci sayı atanmış ve sayısal bir değer mi? */ if (!(isset($_REQUEST['deger2']) &amp;&amp; is_numeric($_REQUEST['deger2']))) { hataVer(); /* Hata mesajı yaz ve çık */ } $deger2 = $_REQUEST['deger2']; if($islem == &quot;Topla&quot;) { $sonuc = $deger1 + $deger2; } elseif ($islem == &quot;Carp&quot;) { $sonuc = $deger1 * $deger2; } elseif ($islem == &quot;Cikar&quot;) { $sonuc = $deger1 - $deger2; } else { if($deger2 == 0) { hataVer(&quot;Sıfıra bölüyorsunuz.&quot;); } $sonuc = $deger1 / $deger2; }

echo json_encode(array(&quot;sonuc&quot; =&gt; $sonuc, &quot;hatali&quot; =&gt; false)); /* json_encode fonksiyonunun içindeki array'in key'lerine ve bizimkod.js dosyasına (istemci tarafta) kullanılan json verisine erişilirken kullanılan key'lere dikkat edin. */

function hataVer($mesaj = null) { if (is_null($mesaj)) $mesaj = &quot;Hatali bir veri var! Siz kimi kandiriyorsunuz?&quot;; die(json_encode(array(&quot;hata&quot; =&gt; $mesaj,&quot;hatali&quot; =&gt; true)));

/* Die, bir mesaj vererek programın çalışmasını durdurur. */ }
</code></pre>
</div></div></article><div class="card comments main-container__items"><div class="card__contents" id="disqus_thread"></div></div></div><div class="sidebar main-content__sidebar"><div class="about"><img class="about__image" src="/img/profile.jpg"/><h1 class="about__name">Umut Benzer</h1><h2 class="about__mini-bio">Software Engineer in Berlin</h2></div></div></div><div class="main-container"><div class="footer"><div class="footer__copyright-holder"><p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank"><img alt="Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License" src="/img/cclicense.png"/></a></p><p><span>Bu sitedeki tüm yazı ve görseller </span><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a><span> ile lisanslanmıştır.</span></p></div><div class="footer__generator"><span>Bu sayfa </span><span>22 Nisan 2017</span><span> tarihinde </span><a href="https://github.com/ubenzer/fil" target="_blank">Fil</a><span> ile yaratılmıştır.</span></div></div></div></div>
        <script src="/template/app.js" type="text/javascript"></script><script type="text/javascript">
        var disqus_config = function () {
          this.page.url = "https://ubenzer.com/2010/01/basit-bir-ajax-hesap-makinesi/";
          this.page.identifier = "post@/2010/01/basit-bir-ajax-hesap-makinesi";
        };
        (function() {
          var d = document, s = d.createElement('script');
          s.src = 'https://ubenzer.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
        </script><script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-509698-8', 'auto');
      ga('send', 'pageview');
      </script>
      </body>
    </html>
  