<!doctype html>
    <html lang="tr">
      <head>
        <title>Basit Bir AJAX Hesap Makinesi - UBenzer</title>
        <meta content="utf-8" name="charset"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="#2196F3" name="theme-color"/><meta content="{right}Geçen hafta PHP kursunda amacımızı biraz aşıp, istemci taraflı kütüphanelere daldık. AJAX’ın ne olduğu, neden AJAX’a ihtiyaç duyduğu, kısa bir tarihçesi gibi konular üzerinde durduktan sonra, popüler kütüphanelerden jQuery yardımı ile, AJAX yöntemini kullanan bir hesap makinesi yazdık." name="description"/><meta content="article" property="og:type"/><meta content="106731154350" property="fb:app_id"/><meta content="tr_TR" property="og:locale"/><meta content="https://ubenzer.com/2010/01/basit-bir-ajax-hesap-makinesi/" property="og:url"/><meta content="Basit Bir AJAX Hesap Makinesi" property="og:title"/><meta content="{right}Geçen hafta PHP kursunda amacımızı biraz aşıp, istemci taraflı kütüphanelere daldık. AJAX’ın ne olduğu, neden AJAX’a ihtiyaç duyduğu, kısa bir tarihçesi gibi konular üzerinde durduktan sonra, popüler kütüphanelerden jQuery yardımı ile, AJAX yöntemini kullanan bir hesap makinesi yazdık." property="og:description"/><meta content="https://ubenzer.com/2010/01/basit-bir-ajax-hesap-makinesi/php-logo.jpg" property="og:image"/>
        <link href="/ui.css" media="screen" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400italic,700italic,700,400&amp;amp;subset=latin-ext" media="screen" rel="stylesheet" type="text/css"/><link href="/img/favicon/apple-touch-icon-57x57.png" rel="apple-touch-icon-precomposed" sizes="57x57"/><link href="/img/favicon/apple-touch-icon-60x60.png" rel="apple-touch-icon-precomposed" sizes="60x60"/><link href="/img/favicon/apple-touch-icon-72x72.png" rel="apple-touch-icon-precomposed" sizes="72x72"/><link href="/img/favicon/apple-touch-icon-76x76.png" rel="apple-touch-icon-precomposed" sizes="76x76"/><link href="/img/favicon/apple-touch-icon-114x114.png" rel="apple-touch-icon-precomposed" sizes="114x114"/><link href="/img/favicon/apple-touch-icon-120x120.png" rel="apple-touch-icon-precomposed" sizes="120x120"/><link href="/img/favicon/apple-touch-icon-152x152.png" rel="apple-touch-icon-precomposed" sizes="152x152"/><link href="/img/favicon/favicon-196x196.png" rel="icon" sizes="196x196"/><link href="/img/favicon/favicon-128x128.png" rel="icon" sizes="128x128"/><link href="/img/favicon/favicon-96x96.png" rel="icon" sizes="96x96"/><link href="/img/favicon/favicon-32x32.png" rel="icon" sizes="32x32"/><link href="/img/favicon/favicon-16x16.png" rel="icon" sizes="16x16"/><link href="https://ubenzer.com/2010/01/basit-bir-ajax-hesap-makinesi/" rel="canonical"/>
      </head>
      <body>
        <div><header class="header "><div class="app-bar"><h1 class="app-bar__title app-bar__text"><a class="app-bar__title-link" href="/">UBenzer</a></h1><div class="app-bar__spacer"></div><a class="app-bar__about-link app-bar__text" href="/hakkimda/">Hakkımda</a><div class="app-bar__mobile-menu-container mdc-menu-anchor"><button class="mdc-button app-bar__mobile-button"><img class="app-bar__mobile-button-icon" src="/img/ic_more_vert_white_24px.svg"/></button><div class="mdc-simple-menu app-bar__mobile-menu" style="position:absolute;" tabindex="-1"><ul aria-hidden="true" class="mdc-simple-menu__items mdc-list" role="menu"><li class="mdc-list-item" data-href="/hakkimda/" role="menuitem" tabindex="0">Hakkımda</li></ul></div></div></div></header><div class="main-container"><div class="main-container__main-content"><article class="card main-container__items"><div class="card__contents blog-post"><div class="blog-post__date">2 Ocak 2010</div><h1 class="blog-post__title"><a href="/2010/01/basit-bir-ajax-hesap-makinesi/">Basit Bir AJAX Hesap Makinesi</a></h1><div class="markdown-content blog-post__body blog-post__content"><p><a href="/2010/01/basit-bir-ajax-hesap-makinesi/php-logo.jpg" target="_blank"><span class="img fade-box center big">
    <img class="fade-box__lores" src="/2010/01/basit-bir-ajax-hesap-makinesi/php-logo.scaled-jpg-50.jpg" alt="php-logo" width="95" height="60">
    <img class="lazyload fade-box__hires" data-src="/2010/01/basit-bir-ajax-hesap-makinesi/php-logo.jpg" title="php-logo" alt="php-logo"width="95" height="60" data-srcset="/2010/01/basit-bir-ajax-hesap-makinesi/php-logo.scaled-jpg-50.jpg 50w, /2010/01/basit-bir-ajax-hesap-makinesi/php-logo.jpg 95w">
    <span style="padding-top: 63.1578947368421%" class="fade-box__aspect_ratio_el">&nbsp;</span>
  </span>
</a>{right}Geçen hafta PHP kursunda amacımızı biraz aşıp, istemci taraflı kütüphanelere daldık. AJAX’ın ne olduğu, neden AJAX’a ihtiyaç duyduğu, kısa bir tarihçesi gibi konular üzerinde durduktan sonra, popüler kütüphanelerden jQuery yardımı ile, AJAX yöntemini kullanan bir hesap makinesi yazdık.</p>
<p>Amacı ne, PHP’ye ne gerek var, JavaScript zaten toplama çıkarma yapabiliyor diyecek olursanız, sonuna kadar haklısınız. Bu programcıkta amaç, AJAX’ı basit bir şekilde örneklemek, öğrenebilmek, anlayabilmek...</p>
<p>...diyor ve sizi kodlarla baş başa bırakıyorum.</p>
<ul>
<li><a href="/2010/01/basit-bir-ajax-hesap-makinesi/ajax.pdf" >AJAX Konusu ile İlgili Öğretici Bir Sunum</a> <em>(İngilizce)</em></li>
<li><a href="/2010/01/basit-bir-ajax-hesap-makinesi/ajax-hesap-makinesi.zip" >Kaynak Kodları</a> (zip, sıkıştırılmış)</li>
</ul>
<p>Eğer kodları indirmeden incelemek isterseniz, yazının devamına bakabilirsiniz.</p>
<h2>bizimkodlar.js</h2>
<p>[js] $(document).ready(function() { /* Buranın içindeki kodlar, sayfa yüklenmesi tamamlanınca çalışacak. Genel geçer olarak, jQuery kodları bu blok içine yazılır. <em>/ var sayac = 0; /</em> Değişken tanımlama. <em>/ /</em> Bir &quot;event&quot;. makine id'li form submit olunca aşağıdaki kod parçası çalışır. Daha ayrıntılı bilgi için jQuery dokümantasyonundan selector ve events konularına bakınız.<em>/ $(&quot;#makine&quot;).submit(function() { $.ajax({ /</em> jQuery kütüphanesinin sunduğu cross-browser ajax metodu <em>/ type: &quot;POST&quot;, /</em> http veri aktarım metodu <em>/ url: &quot;hesap.php&quot;, /</em> isteğin yapılacağı adres <em>/ cache: false, /</em> sorgu tarayıcı önbelleğine alınabilir mi? <em>/ data: $(this).serialize(), /</em> gönderilecek veri. this.serialize ile, submit edilen formun içindeki tüm bilgiler gönderilmektedir. <em>/ dataType: &quot;json&quot;, /</em> dönüş için beklenen veri tipi <em>/ error: function(request) { /</em> isteğin yapılamaması sonucu gerçekleşecek kod parçası <em>/ alert(&quot;Hata oluştu.&quot;); /</em> ekrana mesaj kutusu çıkartır. <em>/ }, success: function(request) { /</em> isteğin başarılı olması sonucu gerçekleşecek kod parçası <em>/ if(!request.hatali) { sayac++; $('#sonuc').append(sayac + &quot; numaralı islemin sonucu: &quot; + request.sonuc + &quot;&lt;br /&gt;&quot;); /</em> json ile gelen verilere dizi elemanıymış gibi erişilebilir. <em>/ } else { alert(&quot;Sonuc hatalı. Gelen mesaj: &quot; + request.hata); } } }); return false; /</em> varsayılan submit olayının olmasını (formun normal yöntemlerle gönderilmesini) engeller. <em>/ /</em> AJAX ASENKRONDUR. KOD PARÇASININ BU SATIRINA GELMESİ İÇİN AJAX SORGUSUNUN BİTMESİ GEREKMEMEKTEDİR. */ }); }); [/js]</p>
<h2>index.php</h2>
<pre><code class="hljs language-php"> <span class="hljs-meta">&lt;?php</span> <span class="hljs-comment">/* AJAX 101 - http://www.ubenzer.com/ */</span> header(<span class="hljs-string">"Content-Type: text/html; charset=utf-8"</span>); <span class="hljs-meta">?&gt;</span> &lt;!DOCTYPE html <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//W3C//DTD XHTML 1.0 Strict//EN"</span> <span class="hljs-string">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"</span>&gt; &lt;html xmlns=<span class="hljs-string">"http://www.w3.org/1999/xhtml"</span> dir=<span class="hljs-string">"ltr"</span> lang=<span class="hljs-string">"tr-TR"</span>&gt; &lt;head profile=<span class="hljs-string">"http://gmpg.org/xfn/1"</span>&gt; &lt;!-- EgeBK PHP Kursu Örnek Kaynak Kodları --&gt; &lt;title&gt;AJAX Hesap Makinesi&lt;/title&gt; &lt;!-- jQuery Kütüphanesini Ekleyelim. Dikkat edin bu bir JavaScript kütüphanesi ve istemci tarafında çalışmak üzere tarayıcıya gönderiliyor. Yani kodlar halka açık. --&gt; &lt;script type=<span class="hljs-string">"text/javascript"</span> src=<span class="hljs-string">"jquery.js"</span>&gt;&lt;/script&gt; &lt;!-- jQuery kütüphanesini kullanarak işlem yapacağımız kod parçaları. JacaScript dosyalarının eklenme sırası önemlidir. --&gt; &lt;script type=<span class="hljs-string">"text/javascript"</span> src=<span class="hljs-string">"bizimkodlar.js"</span>&gt;&lt;/script&gt; &lt;meta http-equiv=<span class="hljs-string">"Content-Type"</span> content=<span class="hljs-string">"text/html; charset=UTF-8"</span> /&gt; &lt;meta http-equiv=<span class="hljs-string">"author"</span> content=<span class="hljs-string">"Umut Benzer"</span> /&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=<span class="hljs-string">"hesap.php"</span> id=<span class="hljs-string">"makine"</span> method=<span class="hljs-string">"post"</span>&gt;&lt;!-- FORM ID<span class="hljs-string">'SİNE DİKKAT EDİNİZ --&gt; 1\. Değer: &lt;input type="text" name="deger1" /&gt;&lt;br /&gt; 2\. Değer: &lt;input type="text" name="deger2" /&gt;&lt;br /&gt; &lt;select name="islem"&gt; &lt;option&gt;Topla&lt;/option&gt; &lt;option&gt;Cikar&lt;/option&gt; &lt;option&gt;Carp&lt;/option&gt; &lt;option&gt;Bol&lt;/option&gt; &lt;/select&gt; &lt;input type="submit" value="AJAX'</span>la Hesapla<span class="hljs-string">" /&gt; &lt;/form&gt; &lt;div id="</span>sonuc<span class="hljs-string">"&gt;Sonuç burada görünecek.&lt;br /&gt;&lt;/div&gt;&lt;!-- DİV İD'SİNE DİKKAT EDİNİZ. --&gt; &lt;/body&gt;
</span></code></pre>
<h2>hesap.php</h2>
<pre><code class="hljs language-php"> <span class="hljs-meta">&lt;?php</span> <span class="hljs-comment">// echo var_dump($_REQUEST); header("Content-Type: application/json; charset=utf-8");</span>

<span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">isset</span>($_REQUEST[<span class="hljs-string">'islem'</span>]) &amp;&amp; ($_REQUEST[<span class="hljs-string">'islem'</span>] == <span class="hljs-string">"Topla"</span> || $_REQUEST[<span class="hljs-string">'islem'</span>] == <span class="hljs-string">"Cikar"</span> || $_REQUEST[<span class="hljs-string">'islem'</span>] == <span class="hljs-string">"Carp"</span> || $_REQUEST[<span class="hljs-string">'islem'</span>] == <span class="hljs-string">"Bol"</span>))) { hataVer(); <span class="hljs-comment">/* Hata mesajı yaz ve çık */</span> } $islem = $_REQUEST[<span class="hljs-string">'islem'</span>]; <span class="hljs-comment">/* Bu noktadan sonra $islem'e güvenilir. */</span> <span class="hljs-comment">/* Birinci sayı atanmış ve sayısal bir değer mi? */</span> <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">isset</span>($_REQUEST[<span class="hljs-string">'deger1'</span>]) &amp;&amp; is_numeric($_REQUEST[<span class="hljs-string">'deger1'</span>]))) { hataVer(); <span class="hljs-comment">/* Hata mesajı yaz ve çık */</span> } $deger1 = $_REQUEST[<span class="hljs-string">'deger1'</span>]; <span class="hljs-comment">/* İkinci sayı atanmış ve sayısal bir değer mi? */</span> <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">isset</span>($_REQUEST[<span class="hljs-string">'deger2'</span>]) &amp;&amp; is_numeric($_REQUEST[<span class="hljs-string">'deger2'</span>]))) { hataVer(); <span class="hljs-comment">/* Hata mesajı yaz ve çık */</span> } $deger2 = $_REQUEST[<span class="hljs-string">'deger2'</span>]; <span class="hljs-keyword">if</span>($islem == <span class="hljs-string">"Topla"</span>) { $sonuc = $deger1 + $deger2; } <span class="hljs-keyword">elseif</span> ($islem == <span class="hljs-string">"Carp"</span>) { $sonuc = $deger1 * $deger2; } <span class="hljs-keyword">elseif</span> ($islem == <span class="hljs-string">"Cikar"</span>) { $sonuc = $deger1 - $deger2; } <span class="hljs-keyword">else</span> { <span class="hljs-keyword">if</span>($deger2 == <span class="hljs-number">0</span>) { hataVer(<span class="hljs-string">"Sıfıra bölüyorsunuz."</span>); } $sonuc = $deger1 / $deger2; }

<span class="hljs-keyword">echo</span> json_encode(<span class="hljs-keyword">array</span>(<span class="hljs-string">"sonuc"</span> =&gt; $sonuc, <span class="hljs-string">"hatali"</span> =&gt; <span class="hljs-keyword">false</span>)); <span class="hljs-comment">/* json_encode fonksiyonunun içindeki array'in key'lerine ve bizimkod.js dosyasına (istemci tarafta) kullanılan json verisine erişilirken kullanılan key'lere dikkat edin. */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hataVer</span><span class="hljs-params">($mesaj = null)</span> </span>{ <span class="hljs-keyword">if</span> (is_null($mesaj)) $mesaj = <span class="hljs-string">"Hatali bir veri var! Siz kimi kandiriyorsunuz?"</span>; <span class="hljs-keyword">die</span>(json_encode(<span class="hljs-keyword">array</span>(<span class="hljs-string">"hata"</span> =&gt; $mesaj,<span class="hljs-string">"hatali"</span> =&gt; <span class="hljs-keyword">true</span>)));

<span class="hljs-comment">/* Die, bir mesaj vererek programın çalışmasını durdurur. */</span> }
</code></pre>
</div></div></article><div class="card comments main-container__items"><div class="card__contents" id="disqus_thread"></div></div></div><div class="sidebar main-container__sidebar"><div class="about"><img class="about__image round-img" src="/img/profile.jpg"/><h1 class="about__name">Umut Benzer</h1><h2 class="about__mini-bio">Software Engineer, MSc. in Berlin</h2></div></div></div><div class="main-container"><div class="footer"><div class="footer__copyright-holder"><p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank"><img alt="Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License" src="/img/cclicense.png"/></a></p><p><span>Bu sitedeki tüm yazı ve görseller </span><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a><span> ile lisanslanmıştır.</span></p></div><div class="footer__generator"><span>Bu sayfa </span><span>23 Mayıs 2017</span><span> tarihinde </span><a href="https://github.com/ubenzer/fil" target="_blank">Fil</a><span> ile yaratılmıştır.</span></div></div></div></div>
        <script src="/app.js" type="text/javascript"></script><script type="text/javascript">
        var disqus_config = function () {
          this.page.url = "https://ubenzer.com/2010/01/basit-bir-ajax-hesap-makinesi/";
          this.page.identifier = "post@/2010/01/basit-bir-ajax-hesap-makinesi";
        };
        (function() {
          var d = document, s = d.createElement('script');
          s.src = 'https://ubenzer.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
        </script><script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-509698-8', 'auto');
      ga('send', 'pageview');
      </script>
      </body>
    </html>
  