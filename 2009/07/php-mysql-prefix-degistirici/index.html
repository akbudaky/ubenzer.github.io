<!doctype html>
    <html lang="tr">
      <head>
        <title>PHP MYSQL Prefix Değiştirici - UBenzer</title>
        <meta content="utf-8" name="charset"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="#2196F3" name="theme-color"/>
        <link href="/template/ui.css" media="screen" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700,700i&amp;amp;subset=latin-ext" media="screen" rel="stylesheet" type="text/css"/><link href="/img/favicon/apple-touch-icon-57x57.png" rel="apple-touch-icon-precomposed" sizes="57x57"/><link href="/img/favicon/apple-touch-icon-60x60.png" rel="apple-touch-icon-precomposed" sizes="60x60"/><link href="/img/favicon/apple-touch-icon-72x72.png" rel="apple-touch-icon-precomposed" sizes="72x72"/><link href="/img/favicon/apple-touch-icon-76x76.png" rel="apple-touch-icon-precomposed" sizes="76x76"/><link href="/img/favicon/apple-touch-icon-114x114.png" rel="apple-touch-icon-precomposed" sizes="114x114"/><link href="/img/favicon/apple-touch-icon-120x120.png" rel="apple-touch-icon-precomposed" sizes="120x120"/><link href="/img/favicon/apple-touch-icon-152x152.png" rel="apple-touch-icon-precomposed" sizes="152x152"/><link href="/img/favicon/favicon-196x196.png" rel="icon" sizes="196x196"/><link href="/img/favicon/favicon-128x128.png" rel="icon" sizes="128x128"/><link href="/img/favicon/favicon-96x96.png" rel="icon" sizes="96x96"/><link href="/img/favicon/favicon-32x32.png" rel="icon" sizes="32x32"/><link href="/img/favicon/favicon-16x16.png" rel="icon" sizes="16x16"/><link href="https://ubenzer.com/2009/07/php-mysql-prefix-degistirici/" rel="canonical"/>
      </head>
      <body>
        <div><header class="header"><div class="app-bar"><h1 class="app-bar__title"><a class="app-bar__title-link" href="/">UBenzer</a></h1></div></header><div class="main-container"><div class="main-content"><article class="card main-container__items"><div class="card__contents blog-post"><div class="blog-post__date">31 Temmuz 2009</div><h1><a class="blog-post__title" href="/2009/07/php-mysql-prefix-degistirici/">PHP MYSQL Prefix Değiştirici</a></h1><div class="markdown-content blog-post__body blog-post__content"><p><a href="/2009/07/php-mysql-prefix-degistirici/logo-mysql.jpg" target="_blank"><span class="img fade-box ">
    <img class="fade-box__lores" src="/2009/07/php-mysql-prefix-degistirici/logo-mysql.scaled-jpg-50.jpg" alt="logo-mysql" width="150" height="110">
    <img class="lazyload fade-box__hires" data-src="/2009/07/php-mysql-prefix-degistirici/logo-mysql.jpg" title="logo-mysql" alt="logo-mysql"width="150" height="110" data-srcset="/2009/07/php-mysql-prefix-degistirici/logo-mysql.scaled-jpg-50.jpg 50w, /2009/07/php-mysql-prefix-degistirici/logo-mysql.jpg 150w">
    <span style="padding-top: 73.33333333333333%" class="fade-box__aspect_ratio_el">&nbsp;</span>
  </span>
</a>{right}Worpress, Drupal, phpBB, Simple Machines gibi hazır sistemlerle uğraşanlar bilirler. Diğer sistemlerle beraber sorunsuz çalışmasını sağlamak için veritabanı tablolarında ön ek <em>(prefix)</em> denilen bir uygulama kullanılır.</p>
<p>Bazen bu eki, güvenlik açısından <em>(ya da can sıkıntısından)</em> değiştirmeniz gerekebilir. Aşağıda böyle durumlarda kullanabileceğiniz bir script <em>(betik)</em> sunuyorum.</p>
<p>Kendim bu scripti kullandığımda tablo adlarını değiştirmekte hiçbir sorun yaşamadım. <em>ANCAK WORDPRESS'TE SADECE ÖN EKLERİ DEĞİŞTİRMENİZ TEK BAŞINA YETERLİ OLMUYOR!</em> <em>_options</em> ve <em>_usermeta</em> tablolarında da bazı değişiklikler yapmanız gerekiyor. Onun için eğer bu konularda bilgili değilseniz bu işlemi uygulamamanızı öneriyorum.</p>
<p><em>Değişiklik yapmadan önce veritabanınızın yedeğini mutkala alınız.</em> <em>(Mazallah, şeytan doldurur. 😄 )</em></p>
<p>Kaynak kodu bana ait değil. Yazarın sitesine <a href="http://www.nilpo.com/" rel="noopener noreferrer" target="_blank">buradan</a> ulaşabilir, kodu <a href="/2009/07/php-mysql-prefix-degistirici/prefix.txt" >buradan</a> indirebilir ya da yazının devamındakini kopyala yapıştır yapabilirsiniz.</p>
<pre><code class="hljs language-php"> <span class="hljs-meta">&lt;?php</span> <span class="hljs-comment">/* MySQL Table Prefix Changer By Robert Dunham http://www.nilpo.com

This script can be used to change all of the table prefixes in a database. This can be useful as a security precaution when using preset table names like with phpBB. This can help prevent sql injections.

Additional information at http://www.nilpo.com

Download link: http://www.nilpo.com/pub/examples/prefix.php */</span><span class="hljs-meta">?&gt;</span>

&lt;html&gt; &lt;head&gt; &lt;title&gt;MySQL Table Prefix Changer&lt;/title&gt; &lt;meta http-equiv=<span class="hljs-string">"Content-Type"</span> content=<span class="hljs-string">"text/html; charset=iso-8859-1"</span>&gt; &lt;/head&gt;

&lt;body&gt; <span class="hljs-meta">&lt;?php</span> <span class="hljs-comment">// Check for POST data $action = isset($_REQUEST['action'])?$_REQUEST['action']:false;</span>

<span class="hljs-keyword">if</span> (!$action) { <span class="hljs-meta">?&gt;</span> &lt;form name=<span class="hljs-string">"form1"</span> method=<span class="hljs-string">"post"</span>&gt; &lt;table width=<span class="hljs-string">"75%"</span> border=<span class="hljs-string">"0"</span> cellspacing=<span class="hljs-string">"2"</span> cellpadding=<span class="hljs-string">"2"</span>&gt; &lt;tr&gt; &lt;td&gt;Enter database name:&lt;/td&gt; &lt;td&gt;&lt;input name=<span class="hljs-string">"d"</span> type=<span class="hljs-string">"text"</span> id=<span class="hljs-string">"d"</span> size=<span class="hljs-string">"50"</span>&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Enter database user&lt;/td&gt; &lt;td&gt;&lt;input name=<span class="hljs-string">"u"</span> type=<span class="hljs-string">"text"</span> id=<span class="hljs-string">"u"</span> size=<span class="hljs-string">"50"</span>&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Enter database password:&lt;/td&gt; &lt;td&gt;&lt;input name=<span class="hljs-string">"p"</span> type=<span class="hljs-string">"password"</span> id=<span class="hljs-string">"p"</span> size=<span class="hljs-string">"50"</span>&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Enter <span class="hljs-keyword">New</span> Prefix:&lt;/td&gt; &lt;td&gt;&lt;input name=<span class="hljs-string">"n"</span> type=<span class="hljs-string">"text"</span> id=<span class="hljs-string">"n"</span> size=<span class="hljs-string">"50"</span> value=<span class="hljs-string">"(Do not include the trailing underscore)"</span>&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td colspan=<span class="hljs-string">"2"</span> align=<span class="hljs-string">"center"</span>&gt;&lt;input name=<span class="hljs-string">"action"</span> type=<span class="hljs-string">"hidden"</span> id=<span class="hljs-string">"action"</span> value=<span class="hljs-string">"data"</span>&gt; &lt;input type=<span class="hljs-string">"submit"</span> name=<span class="hljs-string">"Submit"</span> value=<span class="hljs-string">"Change Table Prefixes"</span>&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; <span class="hljs-meta">&lt;?php</span> } <span class="hljs-keyword">else</span> {

$mysql_db = $_REQUEST[<span class="hljs-string">'d'</span>]; $mysql_user = $_REQUEST[<span class="hljs-string">'u'</span>]; $mysql_pass = $_REQUEST[<span class="hljs-string">'p'</span>]; $table_prefix = $_REQUEST[<span class="hljs-string">'n'</span>];

<span class="hljs-comment">// Open MySQL link $link = mysql_connect('localhost', $mysql_user, $mysql_pass); if (!$link) { die('Could not connect: ' . mysql_error()); } echo 'Connected successfully&lt;br&gt;&lt;br&gt;';</span>

<span class="hljs-comment">// Select database and grab table list mysql_select_db($mysql_db, $link) or die ("Database not found."); $tables = mysql_list_tables($mysql_db);</span>

<span class="hljs-comment">// Pull table names into an array and replace prefixes $i = 0; while ($i &lt; mysql_num_rows($tables)) { $table_name = mysql_tablename($tables, $i); $table_array[$i] = $table_name; $i++; }</span>

<span class="hljs-comment">// Pull table names into another array after replacing prefixes foreach ($table_array as $key =&gt; $value) { $table_names[$key] = replace_prefix($value, $table_prefix); }</span>

<span class="hljs-comment">// Write new table names back foreach ($table_array as $key =&gt; $value) { $query = sprintf('RENAME TABLE %s TO %s', $table_array[$key], $table_names[$key]); $result = mysql_query($query, $link); if (!$result) { $error = mysql_error(); echo "Could not $query : $error&lt;br&gt;"; } else { $message = sprintf('Successfully renamed %s to %s in %s', $table_array[$key], $table_names[$key], $mysql_db); echo "$message&lt;br&gt;"; } }</span>

<span class="hljs-comment">// Free the resources mysql_close($link); }</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replace_prefix</span><span class="hljs-params">($s, $prefix)</span> </span>{ $pos = strpos($s, <span class="hljs-string">"_"</span>); $s = substr($s, $pos + <span class="hljs-number">1</span>); $s = sprintf(<span class="hljs-string">"%s_%s"</span>, $prefix, $s); <span class="hljs-keyword">return</span> $s; } <span class="hljs-meta">?&gt;</span>
</code></pre>
<p><em>Dipnot:</em> Prefixi değiştirdikten sonra <em>Leyla'lık yapıp</em>, yazılımızın ayar dosyalarını <em>(config)</em> yeni ön eke göre <em>(prefix)</em> ayarlamayı unutmayın. 😃</p>
<p><em>İyi akşamlar.</em></p>
</div></div></article><div class="card comments main-container__items"><div class="card__contents" id="disqus_thread"></div></div></div><div class="sidebar main-content__sidebar"><div class="about"><img class="about__image" src="/img/profile.jpg"/><h1 class="about__name">Umut Benzer</h1><h2 class="about__mini-bio">Software Engineer in Berlin</h2></div></div></div><div class="main-container"><div class="footer"><div class="footer__copyright-holder"><p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank"><img alt="Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License" src="/img/cclicense.png"/></a></p><p><span>Bu sitedeki tüm yazı ve görseller </span><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a><span> ile lisanslanmıştır.</span></p></div><div class="footer__generator"><span>Bu sayfa </span><span>22 Nisan 2017</span><span> tarihinde </span><a href="https://github.com/ubenzer/fil" target="_blank">Fil</a><span> ile yaratılmıştır.</span></div></div></div></div>
        <script src="/template/app.js" type="text/javascript"></script><script type="text/javascript">
        var disqus_config = function () {
          this.page.url = "https://ubenzer.com/2009/07/php-mysql-prefix-degistirici/";
          this.page.identifier = "post@/2009/07/php-mysql-prefix-degistirici";
        };
        (function() {
          var d = document, s = d.createElement('script');
          s.src = 'https://ubenzer.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
        </script><script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-509698-8', 'auto');
      ga('send', 'pageview');
      </script>
      </body>
    </html>
  