<!doctype html>
    <html lang="tr">
      <head>
        <title>Bant GeniÅŸliÄŸi HÄ±rsÄ±zlarÄ±na Hotlink KorumasÄ± - UBenzer</title>
        <meta content="utf-8" name="charset"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="#2196F3" name="theme-color"/><meta content="Wikipedia der ki:" name="description"/><meta content="article" property="og:type"/><meta content="106731154350" property="fb:app_id"/><meta content="tr_TR" property="og:locale"/><meta content="https://ubenzer.com/2009/07/bant-genisligi-hirsizlarina-hotlink-korumasi/" property="og:url"/><meta content="Bant GeniÅŸliÄŸi HÄ±rsÄ±zlarÄ±na Hotlink KorumasÄ±" property="og:title"/><meta content="Wikipedia der ki:" property="og:description"/>
        <link href="/ui.css" media="screen" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400italic,700italic,700,400&amp;amp;subset=latin-ext" media="screen" rel="stylesheet" type="text/css"/><link href="/img/favicon/apple-touch-icon-57x57.png" rel="apple-touch-icon-precomposed" sizes="57x57"/><link href="/img/favicon/apple-touch-icon-60x60.png" rel="apple-touch-icon-precomposed" sizes="60x60"/><link href="/img/favicon/apple-touch-icon-72x72.png" rel="apple-touch-icon-precomposed" sizes="72x72"/><link href="/img/favicon/apple-touch-icon-76x76.png" rel="apple-touch-icon-precomposed" sizes="76x76"/><link href="/img/favicon/apple-touch-icon-114x114.png" rel="apple-touch-icon-precomposed" sizes="114x114"/><link href="/img/favicon/apple-touch-icon-120x120.png" rel="apple-touch-icon-precomposed" sizes="120x120"/><link href="/img/favicon/apple-touch-icon-152x152.png" rel="apple-touch-icon-precomposed" sizes="152x152"/><link href="/img/favicon/favicon-196x196.png" rel="icon" sizes="196x196"/><link href="/img/favicon/favicon-128x128.png" rel="icon" sizes="128x128"/><link href="/img/favicon/favicon-96x96.png" rel="icon" sizes="96x96"/><link href="/img/favicon/favicon-32x32.png" rel="icon" sizes="32x32"/><link href="/img/favicon/favicon-16x16.png" rel="icon" sizes="16x16"/><link href="https://ubenzer.com/2009/07/bant-genisligi-hirsizlarina-hotlink-korumasi/" rel="canonical"/>
      </head>
      <body>
        <div><header class="header "><div class="app-bar"><h1 class="app-bar__title"><a class="app-bar__title-link" href="/">UBenzer</a></h1></div></header><div class="main-container"><div class="main-container__main-content"><article class="card main-container__items"><div class="card__contents blog-post"><div class="blog-post__date">19 Temmuz 2009</div><h1 class="blog-post__title"><a href="/2009/07/bant-genisligi-hirsizlarina-hotlink-korumasi/">Bant GeniÅŸliÄŸi HÄ±rsÄ±zlarÄ±na Hotlink KorumasÄ±</a></h1><div class="markdown-content blog-post__body blog-post__content"><p><a href="http://en.wikipedia.org/wiki/Hotlink" rel="noopener noreferrer" target="_blank">Wikipedia</a> der ki:</p>
<blockquote>
<p>Inline linking <em>(also known as hotlinking, leeching, piggy-backing, direct linking, offsite image grabs and bandwidth theft)</em> is the use of a linked object, often an image, from one site into a web page belonging to a second site. The second site is said to have an inline link to the site where the object is located.</p>
</blockquote>
<p>KÄ±sa ve Ã–z Meali:</p>
<blockquote>
<p>Hotlinking, bir sitenin baÅŸka bir sitenin <em>(genelde resim dosyasÄ± olan)</em> iÃ§eriÄŸini izinsiz kullanmasÄ± <em>(bant geniÅŸliÄŸi hÄ±rsÄ±zlÄ±ÄŸÄ± yapmasÄ±)</em> anlamÄ±na gelir.</p>
</blockquote>
<p>Basit bir Ã¶rnek verecek olursak: Siz web sitenize bir fotoÄŸraf (mesela TÃ¼rk bayraÄŸÄ±) yÃ¼klersiniz. Bu fotoÄŸrafÄ±n adresi (siteniz.com/resim.jpg) olur. BaÅŸka bir X sitesi de, iÃ§eriÄŸine TÃ¼rk bayraÄŸÄ± eklemek ister. Ancak sizin fotoÄŸrafÄ±nÄ±zÄ±n bir kopyasÄ±nÄ± kendi sunusuna atmak yerine aÅŸaÄŸÄ±daki kodu kullanarak, doÄŸrudan sizin sununuzdan Ã§eker:</p>
<pre><code class="hljs language-html"><span class="hljs-comment">&lt;!-- ADAMIN SÄ°TESÄ°NÄ°N ADRESÄ°NÄ°N hirsiz.com OLDUÄUNU VARSAYARSAK --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://www.ubenzer.com/deepo/hotlink/hotlink.png"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Bayrak"</span> /&gt;</span>
</code></pre>
<h3>Bunun size zararÄ± nedir?</h3>
<p>Bandwidth <em>(ya da bant geniÅŸliÄŸi, BW)</em>, web sitenizin yayÄ±nlanmasÄ± iÃ§in anlaÅŸma yaptÄ±ÄŸÄ±nÄ±z ÅŸirketin size <em>(genelde)</em> bir aylÄ±k sÃ¼re zarfÄ± iÃ§erisinde yapabileceÄŸiniz en Ã§ok veri aktarÄ±m boyutu iÃ§in koyduÄŸu sÄ±nÄ±rdÄ±r. SÃ¶zgelimi, sizin bant geniÅŸliÄŸiniz 500MB olsun. Web sitenizin her sayfasÄ±nÄ±n 0.1MB (100KB) olduÄŸunu varsayarsak, bir ayda en fazla 50000 sayfa gÃ¶rÃ¼ntÃ¼lenebilir. Daha sonra siteniz ay bitene kadar kapalÄ± kalacaktÄ±r.</p>
<p>BaÅŸka birinin sizin alanÄ±nÄ±zdaki bir dosyayÄ± sÃ¶mÃ¼rmesi de size bu noktada zararlÄ±dÄ±r. Adam sizin kendi sunucunuza attÄ±ÄŸÄ±nÄ±z karikatÃ¼rleri bir foruma gÃ¶nderiyor olabilir. Forumda bu resimlerin her yÃ¼kleniÅŸi size BW gideri olarak patlayacaktÄ±r... <em>Biraz acemiyseniz bundan haberiniz bile olmayabilir.</em></p>
<h3>HÄ±rsÄ±zlÄ±ÄŸÄ± nasÄ±l tespit ederiz?</h3>
<p>HTTP protokÃ¼lÃ¼nde referans <em>(referrer)</em> denilen bir olay vardÄ±r. BasitÃ§e Ã¶zetlersek, HTTP protokolÃ¼ ile bir istek yapÄ±ldÄ±ÄŸÄ±nda, istekle beraber bir referans gÃ¶nderilebilir. Referans &quot;iÃ§inde bulunulan son sayfa&quot; olarak aÃ§Ä±klanabilir. Ã–rneÄŸin Facebook'ta paylaÅŸÄ±lan bir baÄŸlantÄ±nÄ±za birisi tÄ±kladÄ±ÄŸÄ±nda <em>HTTP Referrer kullanÄ±cÄ±nÄ±n Facebook'ta o anda bulunduÄŸu sayfanÄ±n tam adresi olacaktÄ±r.</em> Bir HTML belgesinin iÃ§indeki bir resim (img tagÄ±) yÃ¼klenecekse, tarayÄ±cÄ± referrer olarak sayfanÄ±n adresini gÃ¶nderecektir.</p>
<p><em>HTTP Referrer tarayÄ±cÄ±ya baÄŸlÄ±dÄ±r</em> ve Ã§eÅŸitli eklentilerle <em>gÃ¶nderilmemesi saÄŸlanabilir</em>. EÄŸer <em>bir sitenin adresini adres Ã§ubuÄŸuna elle yazarak girerseniz</em> de HTTP referans bilgisi gÃ¶ndermemiÅŸ olursunuz.</p>
<p>Bir dosya, <em>sizin iÃ§eriÄŸinizi ve bant geniÅŸliÄŸinizi sÃ¶mÃ¼ren sitede</em> aÃ§Ä±lmaya Ã§alÄ±ÅŸÄ±ldÄ±ÄŸÄ±nda <em>referans olarak bu sitenin adresi gelecektir. BÃ¶ylece hÄ±rsÄ±zlÄ±ÄŸÄ± tespit edebilirsiniz.</em></p>
<h3>NasÄ±l Ã§Ã¶zÃ¼lÃ¼r?</h3>
<p>HTTP Referrer bilgisini kontrol edebileceÄŸiniz her yolla. Ama en basiti (linux ortamÄ±nda) <em>.htaccess</em> dosyasÄ± ile. Sitenizin kÃ¶k klasÃ¶rÃ¼ne aÅŸaÄŸÄ±daki bilgileri iÃ§eren bir <em>.htaccess</em> dosyasÄ± oluÅŸturursanÄ±z <em>JPG, JPEG, PNG, GIF ve BMP</em> formatÄ±ndaki dÄ±ÅŸ referanslar sizin istediÄŸiniz bir dosyaya yÃ¶nlenecektir.</p>
<p>Bu kod parÃ§asÄ± <em>mod_rewrite</em>'nin aÃ§Ä±k olmasÄ±nÄ± gerektirmektedir ki, aÃ§Ä±k deÄŸilse ve siz o hosting firmasÄ±nÄ± seÃ§tiyseniz kendinizi camdan atabilirsiniz. Yok eÄŸer sunucunun sahibi benim diyorsanÄ±z <em>httpd.conf</em> dosyasÄ±nda gerekli oynamalarÄ± yapÄ±p sunucuyu yeniden baÅŸlatmalÄ±sÄ±nÄ±z.</p>
<pre><code class="hljs"><span class="hljs-comment"># BEGIN Hotlink KorumasÄ±</span>

<span class="hljs-section">&lt;IfModule mod_rewrite.c&gt;</span>
<span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span> <span class="hljs-literal">on</span>

<span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span> <span class="hljs-variable">%{REQUEST_URI}</span> ^/deepo/hotlink
<span class="hljs-comment"># Hotlink resimlerinin olduÄŸu dizini korumasÄ±z yapmalÄ±yÄ±z ki, sonsuz dÃ¶nÃ¼ye girmeyelim.</span>
<span class="hljs-attribute"><span class="hljs-nomarkup">RewriteRule</span></span> ^.*$ -<span class="hljs-meta"> [L]</span>

<span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span> <span class="hljs-variable">%{HTTP_REFERER}</span> !^$
<span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span> <span class="hljs-variable">%{HTTP_REFERER}</span> !^http://(.+\.)?ubenzer\.com<span class="hljs-meta"> [NC]</span>
<span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span> <span class="hljs-variable">%{HTTP_REFERER}</span> !^http://(.+\.)?facebook\.com<span class="hljs-meta"> [NC]</span>
<span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span> <span class="hljs-variable">%{HTTP_REFERER}</span> !^https://(.+\.)?facebook\.com<span class="hljs-meta"> [NC]</span>
<span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span> <span class="hljs-variable">%{HTTP_REFERER}</span> !^http://(.+\.)?google\.com<span class="hljs-meta"> [NC]</span>
<span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span> <span class="hljs-variable">%{HTTP_REFERER}</span> !^http://(.+\.)?google\.com\.tr<span class="hljs-meta"> [NC]</span>

<span class="hljs-comment"># YukarÄ±daki sitelerden biri referans olarak gelirse engelleme mekanizmasÄ± Ã§alÄ±ÅŸmaz. Kendi sitemizi</span>
<span class="hljs-comment"># bu alana eklemek Ã–NEMLÄ°DÄ°R! Yoksa kendi sitemize de hÄ±rsÄ±z muamelesi uygularÄ±z.</span>
<span class="hljs-comment"># Facebook ve Google tarzÄ± sitelerde de Ã¶n izlemelerin Ã§alÄ±ÅŸmasÄ± iÃ§in yine mekanizmayÄ± Ã§alÄ±ÅŸtÄ±rmamak iyidir.</span>

<span class="hljs-attribute"><span class="hljs-nomarkup">RewriteRule</span></span> .*\.(jpg|jpeg|gif|png|bmp|JPG|JPEG|GIF|PNG|BMP)$ http://www.ubenzer.com/deepo/hotlink/hotlink.<span class="hljs-number">$1</span><span class="hljs-meta"> [L]</span>
<span class="hljs-comment"># Her formatÄ± ayrÄ± ayrÄ± ele almak gerekir. HÄ±rsÄ±z PNG istediÄŸinde siz JPG biÃ§imi gÃ¶nderirseniz her tarayÄ±cÄ± bunu doÄŸru yorumlayamaz.</span>
<span class="hljs-section">&lt;/IfModule&gt;</span>

<span class="hljs-comment"># END Hotlink KorumasÄ±</span>
</code></pre>
<h3>Dosya iyi hoÅŸ da, bir anlatÄ±versen?</h3>
<p>AnlatalÄ±m efendim.</p>
<p>Ã–ncelikle <em>hÄ±rsÄ±zlarÄ±n istediÄŸi resim yerine gÃ¶rÃ¼necek resimlerimizi</em> hazÄ±rlayarak <em>jpg, gif, png ve bmp</em> formatlarÄ±nda kaydediyoruz. Daha sonra bÃ¼yÃ¼k-kÃ¼Ã§Ã¼k harf sorunlarÄ±nÄ± engellemek iÃ§in uzantÄ±larÄ±n bÃ¼yÃ¼k harflilerini de kaydediyoruz. <em>(Linux sistemlerde a.JPG ile a.jpg farklÄ± dosya olarak kabul edilir.)</em> KÄ±saca aÅŸaÄŸÄ±daki dosyalarÄ± hazÄ±rlÄ±yoruz:</p>
<ul>
<li>hotlink.GIF</li>
<li>hotlink.gif</li>
<li>hotlink.JPG</li>
<li>hotlink.jpg</li>
<li>hotlink.JPEG</li>
<li>hotlink.jpeg</li>
<li>hotlink.BMP</li>
<li>hotlink.bmp</li>
<li>hotlink.PNG</li>
<li>hotlink.png</li>
</ul>
<p>EÄŸer ilham gelmiyorsa, benim <a href="/2009/07/bant-genisligi-hirsizlarina-hotlink-korumasi/hotlink.png" >hotlink resmimden ilham alabilirsiniz</a>.</p>
<p>Ä°kinci adÄ±mda sitenizde <em>&quot;hotlink korumasÄ±z&quot;</em> bir dizin oluÅŸturmalÄ±sÄ±nÄ±z. Hotlink durumunda gÃ¶rÃ¼necek resimleri de hotlink korumasÄ±na maruz bÄ±rakÄ±rsanÄ±z insanlÄ±k sizi affetmez. Benim Ã¶rneÄŸimde bu dizin www.ubenzer.com/deepo/hotlink/. Kendi <em>.htaccess</em> dosyanÄ±zÄ± <em>bunu ele alarak deÄŸiÅŸtirin</em>.</p>
<p>ÃœÃ§Ã¼ncÃ¼ adÄ±m olarak <em>hotlink korumasÄ±ndan etkilenmeyecek siteleri</em> ayarlamalÄ±sÄ±nÄ±z. <em>Kendi sitenizi mutlaka yazÄ±n, yoksa kendi kendinize hÄ±rsÄ±z muamelesi yaparsÄ±nÄ±z.</em> VerdiÄŸim Ã¶rnek <em>.htaccess</em> dosyasÄ± tÃ¼m subdomain ve adresleri kapsayacak Ã¶rneklerdir. Mesela <em>facebook.com</em> adresini beyaz listeye alÄ±rsanÄ±z <em>static.ak.facebook.com</em> da alÄ±nÄ±r.</p>
<p>Google ve Facebook gibi, <em>Ã¶n izlemenin Ã¶nemli olabileceÄŸi siteleri beyaz listeye almanÄ±zÄ±</em> ve</p>
<pre><code class="hljs"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span> <span class="hljs-variable">%{HTTP_REFERER}</span> !^$
</code></pre>
<p>satÄ±rÄ±nÄ± kullanmanÄ±zÄ± tavsiye ederim. <em>Bu satÄ±r hiÃ§bir referans olmadÄ±ÄŸÄ±nda</em> <em>(yani adres satÄ±rÄ±na doÄŸrudan girildiÄŸinde ya da sÄ±k kullanÄ±lanlardan Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda)</em> <em>ilgili resmin gÃ¶rÃ¼nmesini saÄŸlayacaktÄ±r.</em> <em>(AÅŸÄ±rÄ± koruyucu olmamak lazÄ±m bir yerde...)</em></p>
<p>Son adÄ±mda, yaptÄ±klarÄ±nÄ±zÄ±n keyfini Ã§Ä±karmak kalÄ±yor size. Bitti bu kadardÄ±. ğŸ˜ƒ HÄ±rsÄ±zlardan artakalan bant geniÅŸliÄŸinizi gÃ¼le gÃ¼le kullanÄ±n.</p>
<p><em>GÃ¼ncelleme:</em> <em>.htaccess</em> kodlarÄ±ndaki ufak bir hatayÄ± giderdim. Yorumuyla beni uyarak Selim'e teÅŸekkÃ¼rlerimi sunarÄ±m.</p>
</div></div></article><div class="card comments main-container__items"><div class="card__contents" id="disqus_thread"></div></div></div><div class="sidebar main-container__sidebar"><div class="about"><img class="about__image round-img" src="/img/profile.jpg"/><h1 class="about__name">Umut Benzer</h1><h2 class="about__mini-bio">Software Engineer, MSc. in Berlin</h2></div></div></div><div class="main-container"><div class="footer"><div class="footer__copyright-holder"><p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank"><img alt="Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License" src="/img/cclicense.png"/></a></p><p><span>Bu sitedeki tÃ¼m yazÄ± ve gÃ¶rsellerÂ </span><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a><span>Â ile lisanslanmÄ±ÅŸtÄ±r.</span></p></div><div class="footer__generator"><span>Bu sayfaÂ </span><span>7 MayÄ±s 2017</span><span>Â tarihindeÂ </span><a href="https://github.com/ubenzer/fil" target="_blank">Fil</a><span>Â ile yaratÄ±lmÄ±ÅŸtÄ±r.</span></div></div></div></div>
        <script src="/app.js" type="text/javascript"></script><script type="text/javascript">
        var disqus_config = function () {
          this.page.url = "https://ubenzer.com/2009/07/bant-genisligi-hirsizlarina-hotlink-korumasi/";
          this.page.identifier = "post@/2009/07/bant-genisligi-hirsizlarina-hotlink-korumasi";
        };
        (function() {
          var d = document, s = d.createElement('script');
          s.src = 'https://ubenzer.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
        </script><script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-509698-8', 'auto');
      ga('send', 'pageview');
      </script>
      </body>
    </html>
  