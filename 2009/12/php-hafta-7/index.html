<!doctype html>
    <html lang="tr">
      <head>
        <title>PHP: Hafta 7 - UBenzer</title>
        <meta content="utf-8" name="charset"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="#2196F3" name="theme-color"/>
        <link href="/template/ui.css" media="screen" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700,700i&amp;amp;subset=latin-ext" media="screen" rel="stylesheet" type="text/css"/><link href="/img/favicon/apple-touch-icon-57x57.png" rel="apple-touch-icon-precomposed" sizes="57x57"/><link href="/img/favicon/apple-touch-icon-60x60.png" rel="apple-touch-icon-precomposed" sizes="60x60"/><link href="/img/favicon/apple-touch-icon-72x72.png" rel="apple-touch-icon-precomposed" sizes="72x72"/><link href="/img/favicon/apple-touch-icon-76x76.png" rel="apple-touch-icon-precomposed" sizes="76x76"/><link href="/img/favicon/apple-touch-icon-114x114.png" rel="apple-touch-icon-precomposed" sizes="114x114"/><link href="/img/favicon/apple-touch-icon-120x120.png" rel="apple-touch-icon-precomposed" sizes="120x120"/><link href="/img/favicon/apple-touch-icon-152x152.png" rel="apple-touch-icon-precomposed" sizes="152x152"/><link href="/img/favicon/favicon-196x196.png" rel="icon" sizes="196x196"/><link href="/img/favicon/favicon-128x128.png" rel="icon" sizes="128x128"/><link href="/img/favicon/favicon-96x96.png" rel="icon" sizes="96x96"/><link href="/img/favicon/favicon-32x32.png" rel="icon" sizes="32x32"/><link href="/img/favicon/favicon-16x16.png" rel="icon" sizes="16x16"/>
      </head>
      <body>
        <div><header class="header"><div class="app-bar"><h1 class="app-bar__title"><a class="app-bar__title-link" href="/">UBenzer</a></h1></div></header><div class="main-container"><div class="main-content"><article class="card main-container__items"><div class="card__contents blog-post"><div class="blog-post__date">24 Aralık 2009</div><h1><a class="blog-post__title" href="/2009/12/php-hafta-7/">PHP: Hafta 7</a></h1><div class="markdown-content blog-post__body blog-post__content"><p><a href="/2009/12/php-hafta-7/php-logo.jpg" target="_blank"><span class="img fade-box ">
    <img class="fade-box__lores" src="/2009/12/php-hafta-7/php-logo.scaled-jpg-50.jpg" alt="php-logo" width="95" height="60">
    <img class="lazyload fade-box__hires" data-src="/2009/12/php-hafta-7/php-logo.jpg" title="php-logo" alt="php-logo"width="95" height="60" data-srcset="/2009/12/php-hafta-7/php-logo.scaled-jpg-50.jpg 50w, /2009/12/php-hafta-7/php-logo.jpg 95w">
    <span style="padding-top: 63.1578947368421%" class="fade-box__aspect_ratio_el">&nbsp;</span>
  </span>
</a>{right}Bu hafta genel olarak sessionları tekrar ettik. Bunun dışında bazı teknolojilerden ve biraz da bitirme projesinden bahsettik. Bitirme projesinin son teslim tarihinin <em>7 Ocak 2010 Perşembe</em> olduğunu unutmayınız. Projeye <a href="/2009/12/php-hafta-7/php-donem-sonu.pdf" >buradan ulaşabilirsiniz</a>.</p>
<p>Bugünkü tekrar sonucunda sessionlar ve veri tabanı kullanarak basit bir oturum açma sistemi tasarladık derste. Ödev için de oldukça kullanışlı olabilecek, sessionsların kullanımına güzel bir örnek olan kaynak kodlarını bu yazının sonunda bulabilirsiniz.</p>
<p><em>Gelecek hafta Salı günü için bir ek ders planlandı, ancak kesin bir şey yok şu noktada.</em> O gün boş laboratuvar olup olmadığını öğrendikten sonra netleşecek. Duyuru yapacağım.</p>
<p>24 Aralık Perşembe günü laboratuvarda yazdığımız kodları <a href="/2009/12/php-hafta-7/php-hafta-7.zip" >buradan indirebilir</a>, ya da indirmeden incelemek isterseniz yazının devamına bakabilirsiniz. <em>(Kodlar daha anlaşılır olması için biraz daha düzenlenmiştir.)</em></p>
<h2>index.php</h2>
<pre><code class="language-php"> &lt;?php /* DİKKAT: Bu koddaki oturum açma sistemi, gerçek bir PHP projesinde kullanılamayacak kadar dış etkilere açık olduğundan kodu dikkatli kullanmanızı öneririm. */ header(&quot;Content-Type: text/html; charset=utf-8&quot;); session_start(); ?&gt; &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt; &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; dir=&quot;ltr&quot; lang=&quot;tr-TR&quot;&gt; &lt;head profile=&quot;http://gmpg.org/xfn/1&quot;&gt; &lt;!-- EgeBK PHP Kursu Örnek Kaynak Kodları --&gt; &lt;title&gt;Basit Bir Oturum Açma Programı&lt;/title&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt; &lt;meta http-equiv=&quot;author&quot; content=&quot;Umut Benzer&quot; /&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=&quot;index.php&quot; method=&quot;post&quot;&gt; &lt;label for=&quot;name&quot;&gt;Kullanıcı adı&lt;/label&gt; &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot; size=&quot;10&quot; /&gt; &lt;label for=&quot;pass&quot;&gt;Şifre&lt;/label&gt; &lt;input type=&quot;text&quot; id=&quot;pass&quot; name=&quot;pass&quot; size=&quot;10&quot; /&gt; &lt;button type=&quot;submit&quot;&gt;Yallah&lt;/button&gt; &lt;/form&gt; &lt;?php /* İnit */

// ezSQL include_once &quot;ez_sql_core.php&quot;; include_once &quot;ez_sql_mysql.php&quot;;

// Veritabanı yapılandırması $vt_kullanici=&quot;root&quot;; $vt_parola=&quot;&quot;; $vt_isim=&quot;kullanici&quot;; $vt_sunucu=&quot;localhost&quot;;

// ezSQL sınıfından bir nesne... $db = new ezSQL_mysql($vt_kullanici,$vt_parola,$vt_isim,$vt_sunucu);

// Dil ayarlaması $db-&gt;query(&quot;SET NAMES utf8&quot;);

/* Oturum kapatma bilgisi gönderilmiş */ if(isset($_GET[&quot;cikis&quot;]) &amp;&amp; $_GET[&quot;cikis&quot;] == 1) { $_SESSION[&quot;kullanici_id&quot;] = NULL; $_SESSION[&quot;kullanici_adi&quot;] = NULL; }

/* Oturum açma bilgisi gönderilmiş */ if(isset($_POST[&quot;name&quot;]) &amp;&amp; isset($_POST[&quot;pass&quot;])) { // Güvenlik önlemleri $name = $db-&gt;escape($_POST[&quot;name&quot;]); $pass = $db-&gt;escape($_POST[&quot;pass&quot;]); $sql = &quot;SELECT * FROM `kullanici` WHERE name='&quot;.$name.&quot;' AND pass='&quot;.$pass.&quot;'&quot;; echo &quot;Yaratılan SQL cümleciği: &quot; . $sql . &quot;&lt;br /&gt;\n&quot;; $sonuc = $db-&gt;get_row($sql);

if(!is_null($sonuc)) { $_SESSION[&quot;kullanici_id&quot;] = $sonuc-&gt;id; $_SESSION[&quot;kullanici_adi&quot;] = $sonuc-&gt;name; } else { $_SESSION[&quot;kullanici_id&quot;] = NULL; $_SESSION[&quot;kullanici_adi&quot;] = NULL; echo &quot;Kullanıcı adı veya şifre yanlış!&quot; . &quot;&lt;br /&gt;&quot;; } }

/* Oturum açılmış mı kontrolü */ if(isset($_SESSION['kullanici_adi']) &amp;&amp; !is_null($_SESSION['kullanici_adi'])) { echo &quot;Oturum açan kullanıcı: &quot; . $_SESSION['kullanici_adi'] . &quot; Oturumu kapatmak için &lt;a href='?cikis=1'&gt;tıkla&lt;/a&gt;.&quot;; } else { echo &quot;Naber ziyaretçi?&quot;; }

/* SESSION süperdeğişkeninde neler olup bitiyor? */ echo &quot;&lt;br /&gt;&quot;; echo var_dump($_SESSION); ?&gt;&lt;/body&gt;
</code></pre>
<h2>Veri Tabanı Yapısı (SQL)</h2>
<p>[sql] -- phpMyAdmin SQL Dump -- version 3.2.0.1 -- http://www.phpmyadmin.net -- -- Host: localhost -- Generation Time: Dec 24, 2009 at 09:09 PM -- Server version: 5.1.36 -- PHP Version: 5.3.0</p>
<p>SET SQL_MODE=&quot;NO_AUTO_VALUE_ON_ZERO&quot;;</p>
<p>/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT <em>/; /</em>!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS <em>/; /</em>!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION <em>/; /</em>!40101 SET NAMES utf8 */;</p>
<p>-- -- Database: <code>kullanici</code> -- CREATE DATABASE <code>kullanici</code> DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci; USE <code>kullanici</code>;</p>
<hr>
<p>-- -- Table structure for table <code>kullanici</code> --</p>
<p>CREATE TABLE IF NOT EXISTS <code>kullanici</code> ( <code>name</code> text NOT NULL, <code>pass</code> text NOT NULL, <code>id</code> int(10) unsigned NOT NULL AUTO_INCREMENT, PRIMARY KEY (<code>id</code>) ) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=13 ;</p>
<p>-- -- Dumping data for table <code>kullanici</code> --</p>
<p>INSERT INTO <code>kullanici</code> (<code>name</code>, <code>pass</code>, <code>id</code>) VALUES ('Hayrullah', 'abc', 2), ('Sercan', 'def', 3), ('Rıfkı', '123', 4), ('Müge', 'wasd', 11); [/sql]</p>
</div></div></article><div class="card comments main-container__items"><div class="card__contents" id="disqus_thread"></div></div></div><div class="sidebar main-content__sidebar"><div class="about"><img class="about__image" src="/img/profile.jpg"/><h1 class="about__name">Umut Benzer</h1><h2 class="about__mini-bio">Software Engineer in Berlin</h2></div></div></div><div class="main-container"><div class="footer"><div class="footer__copyright-holder"><p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank"><img alt="Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License" src="/img/cclicense.png"/></a></p><p><span>Bu sitedeki tüm yazı ve görseller </span><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a><span> ile lisanslanmıştır.</span></p></div><div class="footer__generator"><span>Bu sayfa </span><span>20 Nisan 2017</span><span> tarihinde </span><a href="https://github.com/ubenzer/fil" target="_blank">Fil</a><span> ile yaratılmıştır.</span></div></div></div></div>
        <script src="/template/app.js" type="text/javascript"></script><script type="text/javascript">
        var disqus_config = function () {
          this.page.url = "https://ubenzer.com/2009/12/php-hafta-7/";
          this.page.identifier = "post@/2009/12/php-hafta-7";
        };
        (function() {
          var d = document, s = d.createElement('script');
          s.src = 'https://ubenzer.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
        </script><script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-509698-8', 'auto');
      ga('send', 'pageview');
      </script>
      </body>
    </html>
  