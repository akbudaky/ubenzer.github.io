<!doctype html>
    <html lang="tr">
      <head>
        <title>Boyut – Diskteki Boyut - UBenzer</title>
        <meta content="utf-8" name="charset"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="#2196F3" name="theme-color"/><meta content="Bir dosyanın/klasörün özelliklerini karıştırırken belki dikkatinizi çekmiştir: Boyut ve Diskteki Boyut olmak üzere iki farklı boyut değeri var. (Size, size on disk) Neden böyle bir şey olduğunu hiç merak ettiniz mi?" name="description"/><meta content="article" property="og:type"/><meta content="106731154350" property="fb:app_id"/><meta content="tr_TR" property="og:locale"/><meta content="https://ubenzer.com/2011/08/boyut-diskteki-boyut/" property="og:url"/><meta content="Boyut – Diskteki Boyut" property="og:title"/><meta content="Bir dosyanın/klasörün özelliklerini karıştırırken belki dikkatinizi çekmiştir: Boyut ve Diskteki Boyut olmak üzere iki farklı boyut değeri var. (Size, size on disk) Neden böyle bir şey olduğunu hiç merak ettiniz mi?" property="og:description"/><meta content="https://ubenzer.com/2011/08/boyut-diskteki-boyut/boyut-diskteki-boyut.png" property="og:image"/>
        <link href="/template/ui.css" media="screen" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700,700i&amp;amp;subset=latin-ext" media="screen" rel="stylesheet" type="text/css"/><link href="/img/favicon/apple-touch-icon-57x57.png" rel="apple-touch-icon-precomposed" sizes="57x57"/><link href="/img/favicon/apple-touch-icon-60x60.png" rel="apple-touch-icon-precomposed" sizes="60x60"/><link href="/img/favicon/apple-touch-icon-72x72.png" rel="apple-touch-icon-precomposed" sizes="72x72"/><link href="/img/favicon/apple-touch-icon-76x76.png" rel="apple-touch-icon-precomposed" sizes="76x76"/><link href="/img/favicon/apple-touch-icon-114x114.png" rel="apple-touch-icon-precomposed" sizes="114x114"/><link href="/img/favicon/apple-touch-icon-120x120.png" rel="apple-touch-icon-precomposed" sizes="120x120"/><link href="/img/favicon/apple-touch-icon-152x152.png" rel="apple-touch-icon-precomposed" sizes="152x152"/><link href="/img/favicon/favicon-196x196.png" rel="icon" sizes="196x196"/><link href="/img/favicon/favicon-128x128.png" rel="icon" sizes="128x128"/><link href="/img/favicon/favicon-96x96.png" rel="icon" sizes="96x96"/><link href="/img/favicon/favicon-32x32.png" rel="icon" sizes="32x32"/><link href="/img/favicon/favicon-16x16.png" rel="icon" sizes="16x16"/><link href="https://ubenzer.com/2011/08/boyut-diskteki-boyut/" rel="canonical"/>
      </head>
      <body>
        <div><header class="header"><div class="app-bar"><h1 class="app-bar__title"><a class="app-bar__title-link" href="/">UBenzer</a></h1></div></header><div class="main-container"><div class="main-content"><article class="card main-container__items"><div class="card__contents blog-post"><div class="blog-post__date">17 Ağustos 2011</div><h1><a class="blog-post__title" href="/2011/08/boyut-diskteki-boyut/">Boyut – Diskteki Boyut</a></h1><div class="markdown-content blog-post__body blog-post__content"><p><a href="/2011/08/boyut-diskteki-boyut/boyut-diskteki-boyut.png" target="_blank"><span class="img fade-box center big">
    <img class="fade-box__lores" src="/2011/08/boyut-diskteki-boyut/boyut-diskteki-boyut.scaled-png-50.png" alt="boyut-diskteki-boyut" width="377" height="515">
    <img class="lazyload fade-box__hires" data-src="/2011/08/boyut-diskteki-boyut/boyut-diskteki-boyut.png" title="boyut-diskteki-boyut" alt="boyut-diskteki-boyut"width="377" height="515" data-srcset="/2011/08/boyut-diskteki-boyut/boyut-diskteki-boyut.scaled-png-50.png 50w, /2011/08/boyut-diskteki-boyut/boyut-diskteki-boyut.scaled-png-200.png 200w, /2011/08/boyut-diskteki-boyut/boyut-diskteki-boyut.png 377w">
    <span style="padding-top: 136.604774535809%" class="fade-box__aspect_ratio_el">&nbsp;</span>
  </span>
</a>Bir dosyanın/klasörün özelliklerini karıştırırken belki dikkatinizi çekmiştir: Boyut ve Diskteki Boyut olmak üzere iki farklı boyut değeri var. (Size, size on disk) Neden böyle bir şey olduğunu hiç merak ettiniz mi?</p>
<h2>Dosya Sistemleri</h2>
<p>Bunun nedeni dosyaların diskte depolanma şekli ile alakalı. Yani dosya sistemi ile. Bildiğiniz üzere bilgisayardaki her şey 1 ve 0’lardan oluşur, diskte de 1 ve 0 şeklinde saklanır. Bir dosya diskte belirli bir konumda yer almaktadır. <em>Örneğin ubenzer.txt dosyası diskteki 2000 ile 5099 arasındaki alanda saklanmaktadır.</em></p>
<p>Tüm dosyalar diskte bu şekilde saklanınca, hangi dosyanın nerede olduğunun bilinmesi ihtiyacı doğar. İyi hoş ubenzer.txt’yi diske kaydettik ama, nerede bu dosya?!</p>
<p>Hal böyle olunca, tüm dosya sistemlerinin, hangi dosyanın hangi konumda olduğunu tutan bir indisi vardır. Kitapların içindekiler kısmına benzetebiliriz bunu.  İşletim sistemi bir dosyaya erişeceğinde önce bu indisten dosyayı bulur, nerede olduğunu öğrenir ve dosyaya yollanır.</p>
<p>Ancak dosyanı başlangıç ve bitiş adresini bit cinsinden olduğu gibi yazmak etkin bir yaklaşım değildir. Örneğin 1TB’lık bir disk için düşünürsek 8.796.093.022.208 bitlik bir alana denk gelmektedir. Bir bilgisayarda da on binlerce hatta milyonlarca dosya olduğunu düşünürsek her bir dosya için başlangıç ve bitiş adreslerini (üstelik ikili düzende) tutmaya kalkmak hatırı sayılır bir yer işgaline sebep olacaktır. 1TB’lık alanı indeksleyebilmek için belki de bu alanın yarısını kullanmamız gerekecektir. Bir dosyanın üstüne sonradan yazılmasından dolayı birden fazla parçaya ayrılması gibi olaylara girmedik bile henüz!</p>
<p>Bu yüzden dosya sistemleri diskin alanını kendilerince “allocation unit”lere ayırırlar. Bir dosya yaratılmak/dosyaya yazılmak istendiğinde işletim sistemi “allocation size” kadar bir yer açar. Örneğin “allocation size”ımızın 64KB olduğunu düşünelim. Böyle bir durumda dosyanızın boyutu 1 bayt da olsa 63KB  da olsa diskte bu dosya için 64KB’lık bir alan ayrılmış olacaktır. 64KB + 1 baytlık bir dosyanız olması durumunda diskte sizin için 128KB’lık bir alan ayrılacaktır.</p>
<p>Bunun nasıl bir avantajı var diye sorarsanız, birkaç tane saymak mümkün: Öncelikle adresleme bit üzerinden yapılmayacak, “allocation unit” üzerinden yapılacak. Böylece 1512546516 bayt demek yerine, 2200.allocation unit şeklinde tarif edebileceğiz bir dosyanın konumunu. Bu da dosyaların konumlarını tutan indeksin boyutunun düşmesi anlamına gelecek. Örneğin 64K’lık bir allocation size kullanmadan önce 1TB’lık bir alanı adresleyebilmek için 8.796.093.022.208’ten bir adres vermek zorundayken, bu 64*1024 * 8 kat azalarak 16777216 adrese düşecek. Tabiki burada verilen örnek aşırı basit, hatta bazı dosya sistemleri için yanlış. Ama fikir vermesi için gerekli.</p>
<p>Bir başka avantajı, dosyalar daha az bölünecek. Dosyanın sonunda boşluk olması, yeni yazılan verilerin diskte ayrı bir alana yazılması yerine dosyanın sonuna eklenmesine olanak sağlayacak. Fragmantation düşecek.</p>
<p>Dezavantajı da var tabii: Kullanmadığımız halde diskte dosyalar yer tutacak. 1KB için 64KB alan kullanacağız, 63’ü çöpe gidecek mesela.</p>
<p>Elbette ki avantajlar da dezavantajlar da bunlarla sınırlı değil. Daha da kötüsü bu avantaj/dezavantajlar hem kişiye hem de kullanılan dosya sistemine göre değişen şeyler. Buradakiler hep genel bilgi olması amaçlı şeyler.</p>
<h2>Sonuç</h2>
<p>Diskteki boyut ile dosyanın boyutu tam olarak yukarıda anlatılanlarla alakalı. Dosyanız, “allocation size”lardan ötürü diskte kendi boyutundan çok daha fazlasını kaplıyor olabilir. Bu, özellikle küçük boyutlu bir sürü dosyanız olduğunda veya “allocation size” haddinden fazla olduğunda kendini gösterir.</p>
<h3>Bitirirken: Optimizasyon</h3>
<p>Dosya sistemlerinde “allocation size” önemli. Eğer bir diskte depolayacağınız dosyaların boyutları konusunda fikir sahibiyseniz format esnasında buna göre ayarlama yapabilirsiniz. Örneğin irili ufaklı dosyaların sıklıkla olacağı işletim sistemi alanında 8K gibi küçük değerler <em>kullanmak (veya en iyisi varsayılan değerleri hiç ellememek)</em> mantıklı iken, video/iso arşivinizin olduğu kocaman kocaman dosyaların bulunduğu dosya sistemlerinde daha büyük değerler seçmek mantıklı olabilir.</p>
<h2>Bir sonraki yazıya…</h2>
<p>Flash disk üzerinde “boyut” ve “diskteki boyut”  üzerine denemeler…</p>
</div></div></article><div class="card comments main-container__items"><div class="card__contents" id="disqus_thread"></div></div></div><div class="sidebar main-content__sidebar"><div class="about"><img class="about__image" src="/img/profile.jpg"/><h1 class="about__name">Umut Benzer</h1><h2 class="about__mini-bio">Software Engineer in Berlin</h2></div></div></div><div class="main-container"><div class="footer"><div class="footer__copyright-holder"><p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank"><img alt="Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License" src="/img/cclicense.png"/></a></p><p><span>Bu sitedeki tüm yazı ve görseller </span><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" rel="license noopener noreferrer" target="_blank">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a><span> ile lisanslanmıştır.</span></p></div><div class="footer__generator"><span>Bu sayfa </span><span>24 Nisan 2017</span><span> tarihinde </span><a href="https://github.com/ubenzer/fil" target="_blank">Fil</a><span> ile yaratılmıştır.</span></div></div></div></div>
        <script src="/template/app.js" type="text/javascript"></script><script type="text/javascript">
        var disqus_config = function () {
          this.page.url = "https://ubenzer.com/2011/08/boyut-diskteki-boyut/";
          this.page.identifier = "post@/2011/08/boyut-diskteki-boyut";
        };
        (function() {
          var d = document, s = d.createElement('script');
          s.src = 'https://ubenzer.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
        </script><script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-509698-8', 'auto');
      ga('send', 'pageview');
      </script>
      </body>
    </html>
  